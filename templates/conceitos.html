{% extends "base.html" %}

{% block title %}Conceitos - In the Shadows{% endblock %}

{% block content %}
<div class="concepts-section">
    <div class="section-header">
        <h1><i class="fas fa-graduation-cap"></i> Conceitos e Prática</h1>
        <p>Aprenda fundamentos do xadrez e pratique estratégias clássicas</p>
        <div class="shadows-quote">
            <blockquote>
                <i class="fas fa-quote-left"></i>
                "A verdadeira jogada vem daquilo que não se vê"
                <i class="fas fa-quote-right"></i>
            </blockquote>
            <cite>— xKaike (chess.com), criador da estratégia "In the Shadows"</cite>
        </div>
    </div>

    <!-- Parte 1: Fundamentos do Tabuleiro -->
    <div class="concepts-content">
        <div class="concept-block">
            <h2><i class="fas fa-chess-board"></i> Fundamentos do Tabuleiro</h2>
            
            <div class="fundamentals-grid">
                <div class="fundamental-card">
                    <h3>Sistema de Coordenadas</h3>
                    <p>O tabuleiro utiliza um sistema de coordenadas com letras (a-h) para colunas e números (1-8) para fileiras.</p>
                    <ul>
                        <li><strong>Colunas:</strong> a, b, c, d, e, f, g, h (da esquerda para direita)</li>
                        <li><strong>Fileiras:</strong> 1, 2, 3, 4, 5, 6, 7, 8 (de baixo para cima - brancas)</li>
                        <li><strong>Exemplo:</strong> e4 = coluna 'e', fileira '4'</li>
                    </ul>
                </div>
                
                <div class="fundamental-card">
                    <h3>Valor das Peças</h3>
                    <div class="pieces-value">
                        <div class="piece-item">
                            <span class="piece-symbol">♟</span>
                            <span>Peão - 1 ponto</span>
                        </div>
                        <div class="piece-item">
                            <span class="piece-symbol">♞</span>
                            <span>Cavalo - 3 pontos</span>
                        </div>
                        <div class="piece-item">
                            <span class="piece-symbol">♝</span>
                            <span>Bispo - 3 pontos</span>
                        </div>
                        <div class="piece-item">
                            <span class="piece-symbol">♜</span>
                            <span>Torre - 5 pontos</span>
                        </div>
                        <div class="piece-item">
                            <span class="piece-symbol">♛</span>
                            <span>Dama - 9 pontos</span>
                        </div>
                        <div class="piece-item">
                            <span class="piece-symbol">♚</span>
                            <span>Rei - Inestimável</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Parte 2: Tabuleiro Interativo -->
        <div class="concept-block">
            <h2><i class="fas fa-hand-pointer"></i> Tabuleiro de Prática</h2>
            <p>Clique e arraste as peças para testar suas próprias ideias</p>
            <div class="chess-container">
                <div id="practice-board" class="chess-board"></div>
                <div class="board-controls">
                    <button id="reset-board" class="btn btn-secondary">
                        <i class="fas fa-undo"></i>
                        Resetar Posição
                    </button>
                    <button id="clear-board" class="btn btn-warning">
                        <i class="fas fa-eraser"></i>
                        Limpar Tabuleiro
                    </button>
                </div>
            </div>
        </div>

        <!-- Parte 3: Princípios Táticos -->
        <div class="concept-block">
            <h2><i class="fas fa-bolt"></i> Princípios Táticos Fundamentais</h2>
            
            <div class="tactics-grid">
                <div class="tactic-card interactive-tactic" data-tactic="Pin">
                    <h3><i class="fas fa-crosshairs"></i> Pin (Cravada)</h3>
                    <p>Ataque a uma peça que não pode se mover sem expor uma peça mais valiosa atrás dela.</p>
                    <div class="tactic-example">
                        <strong>Exemplo:</strong> Torre na coluna 'e' crava cavalo inimigo que protege o rei.
                    </div>
                    <div class="tactic-actions">
                        <button class="btn btn-sm btn-primary ask-enemy-btn" onclick="askEnemyResponse('Pin', 'Torre na coluna e crava cavalo que defende o rei')">
                            <i class="fas fa-brain"></i> Como o Adversário Responderia?
                        </button>
                    </div>
                    <div class="enemy-response-section" style="display: none;">
                        <div class="enemy-thinking">
                            <div class="thinking-header">
                                <i class="fas fa-chess-king"></i>
                                <strong>Resposta do Adversário:</strong>
                            </div>
                            <div class="enemy-response-content"></div>
                        </div>
                    </div>
                </div>
                
                <div class="tactic-card interactive-tactic" data-tactic="Fork">
                    <h3><i class="fas fa-code-branch"></i> Fork (Garfo)</h3>
                    <p>Ataque simultâneo a duas ou mais peças inimigas com uma única peça.</p>
                    <div class="tactic-example">
                        <strong>Exemplo:</strong> Cavalo ataca rei e dama ao mesmo tempo.
                    </div>
                    <div class="tactic-actions">
                        <button class="btn btn-sm btn-primary ask-enemy-btn" onclick="askEnemyResponse('Fork', 'Cavalo em posicao de ataque duplo contra rei e dama')">
                            <i class="fas fa-brain"></i> Como o Adversário Responderia?
                        </button>
                    </div>
                    <div class="enemy-response-section" style="display: none;">
                        <div class="enemy-thinking">
                            <div class="thinking-header">
                                <i class="fas fa-chess-king"></i>
                                <strong>Resposta do Adversário:</strong>
                            </div>
                            <div class="enemy-response-content"></div>
                        </div>
                    </div>
                </div>
                
                <div class="tactic-card interactive-tactic" data-tactic="Descoberta">
                    <h3><i class="fas fa-eye"></i> Descoberta</h3>
                    <p>Ataque revelado quando uma peça se move, expondo o ataque de outra peça.</p>
                    <div class="tactic-example">
                        <strong>Exemplo:</strong> Bispo move revelando ataque da torre atrás.
                    </div>
                    <div class="tactic-actions">
                        <button class="btn btn-sm btn-primary ask-enemy-btn" onclick="askEnemyResponse('Descoberta', 'Bispo se move revelando ataque de torre por tras')">
                            <i class="fas fa-brain"></i> Como o Adversário Responderia?
                        </button>
                    </div>
                    <div class="enemy-response-section" style="display: none;">
                        <div class="enemy-thinking">
                            <div class="thinking-header">
                                <i class="fas fa-chess-king"></i>
                                <strong>Resposta do Adversário:</strong>
                            </div>
                            <div class="enemy-response-content"></div>
                        </div>
                    </div>
                </div>
                
                <div class="tactic-card interactive-tactic" data-tactic="Deflexao">
                    <h3><i class="fas fa-exchange-alt"></i> Deflexão</h3>
                    <p>Forçar uma peça defensora a abandonar sua posição importante.</p>
                    <div class="tactic-example">
                        <strong>Exemplo:</strong> Sacrifício força torre a sair da defesa do rei.
                    </div>
                    <div class="tactic-actions">
                        <button class="btn btn-sm btn-primary ask-enemy-btn" onclick="askEnemyResponse('Deflexao', 'Sacrificio obriga torre defensiva a abandonar protecao do rei')">
                            <i class="fas fa-brain"></i> Como o Adversário Responderia?
                        </button>
                    </div>
                    <div class="enemy-response-section" style="display: none;">
                        <div class="enemy-thinking">
                            <div class="thinking-header">
                                <i class="fas fa-chess-king"></i>
                                <strong>Resposta do Adversário:</strong>
                            </div>
                            <div class="enemy-response-content"></div>
                        </div>
                    </div>
                </div>
                
                <div class="tactic-card interactive-tactic" data-tactic="Atracao">
                    <h3><i class="fas fa-magnet"></i> Atração</h3>
                    <p>Forçar uma peça inimiga a ocupar uma casa vulnerável.</p>
                    <div class="tactic-example">
                        <strong>Exemplo:</strong> Forçar rei a se mover para casa onde pode ser atacado.
                    </div>
                    <div class="tactic-actions">
                        <button class="btn btn-sm btn-primary ask-enemy-btn" onclick="askEnemyResponse('Atracao', 'Tentativa de forcar rei inimigo para casa vulneravel')">
                            <i class="fas fa-brain"></i> Como o Adversário Responderia?
                        </button>
                    </div>
                    <div class="enemy-response-section" style="display: none;">
                        <div class="enemy-thinking">
                            <div class="thinking-header">
                                <i class="fas fa-chess-king"></i>
                                <strong>Resposta do Adversário:</strong>
                            </div>
                            <div class="enemy-response-content"></div>
                        </div>
                    </div>
                </div>
                
                <div class="tactic-card interactive-tactic" data-tactic="Sacrificio">
                    <h3><i class="fas fa-fire"></i> Sacrifício</h3>
                    <p>Oferecer material para obter vantagem posicional ou tática decisiva.</p>
                    <div class="tactic-example">
                        <strong>Exemplo:</strong> Sacrificar dama para dar mate forçado.
                    </div>
                    <div class="tactic-actions">
                        <button class="btn btn-sm btn-primary ask-enemy-btn" onclick="askEnemyResponse('Sacrificio', 'Oferecimento de material para vantagem tatica decisiva')">
                            <i class="fas fa-brain"></i> Como o Adversário Responderia?
                        </button>
                    </div>
                    <div class="enemy-response-section" style="display: none;">
                        <div class="enemy-thinking">
                            <div class="thinking-header">
                                <i class="fas fa-chess-king"></i>
                                <strong>Resposta do Adversário:</strong>
                            </div>
                            <div class="enemy-response-content"></div>
                        </div>
                    </div>
                </div>
                
                <div class="tactic-card interactive-tactic" data-tactic="Interferencia">
                    <h3><i class="fas fa-shield-alt"></i> Interferência</h3>
                    <p>Bloquear a linha de comunicação entre duas peças inimigas.</p>
                    <div class="tactic-example">
                        <strong>Exemplo:</strong> Bispo bloqueia defesa entre torre e rei.
                    </div>
                    <div class="tactic-actions">
                        <button class="btn btn-sm btn-primary ask-enemy-btn" onclick="askEnemyResponse('Interferencia', 'Bloqueio da comunicacao entre pecas defensivas')">
                            <i class="fas fa-brain"></i> Como o Adversário Responderia?
                        </button>
                    </div>
                    <div class="enemy-response-section" style="display: none;">
                        <div class="enemy-thinking">
                            <div class="thinking-header">
                                <i class="fas fa-chess-king"></i>
                                <strong>Resposta do Adversário:</strong>
                            </div>
                            <div class="enemy-response-content"></div>
                        </div>
                    </div>
                </div>
                
                <div class="tactic-card interactive-tactic" data-tactic="Duplo Ataque">
                    <h3><i class="fas fa-arrows-alt"></i> Duplo Ataque</h3>
                    <p>Atacar duas peças ou pontos fracos simultaneamente.</p>
                    <div class="tactic-example">
                        <strong>Exemplo:</strong> Dama ataca torre e ameaça mate ao mesmo tempo.
                    </div>
                    <div class="tactic-actions">
                        <button class="btn btn-sm btn-primary ask-enemy-btn" onclick="askEnemyResponse('Duplo Ataque', 'Dama atacando simultaneamente torre e ameacando mate')">
                            <i class="fas fa-brain"></i> Como o Adversário Responderia?
                        </button>
                    </div>
                    <div class="enemy-response-section" style="display: none;">
                        <div class="enemy-thinking">
                            <div class="thinking-header">
                                <i class="fas fa-chess-king"></i>
                                <strong>Resposta do Adversário:</strong>
                            </div>
                            <div class="enemy-response-content"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Parte 4: Estratégias Clássicas -->
        <div class="concept-block">
            <h2><i class="fas fa-crown"></i> Estratégias Clássicas</h2>
            
            <div class="strategies-tabs">
                <div class="tab-buttons">
                    <button class="tab-btn active" data-tab="gambito">Gambito da Rainha</button>
                    <button class="tab-btn" data-tab="pastor">Mate do Pastor</button>
                    <button class="tab-btn" data-tab="siciliana">Defesa Siciliana</button>
                    <button class="tab-btn" data-tab="italiana">Abertura Italiana</button>
                    <button class="tab-btn" data-tab="ruy-lopez">Ruy Lopez</button>
                    <button class="tab-btn" data-tab="inglesa">Abertura Inglesa</button>
                    <button class="tab-btn" data-tab="caro-kann">Defesa Caro-Kann</button>
                </div>
                
                <div class="tab-content">
                    <div id="gambito" class="tab-panel active">
                        <h3>Gambito da Rainha</h3>
                        <div class="strategy-info">
                            <p>Uma abertura agressiva onde as brancas sacrificam um peão para ganhar controle central.</p>
                            <div class="moves-list">
                                <h4>Movimentos principais:</h4>
                                <ol>
                                    <li>1. d4 d5</li>
                                    <li>2. c4 (oferecendo o peão)</li>
                                    <li>Se 2...dxc4, então 3. e3 ou 3. Nf3</li>
                                </ol>
                            </div>
                            <p><strong>Objetivo:</strong> Controlar o centro e desenvolver rapidamente as peças.</p>
                        </div>
                    </div>
                    
                    <div id="pastor" class="tab-panel">
                        <h3>Mate do Pastor</h3>
                        <div class="strategy-info">
                            <p>Um ataque rápido visando o mate em poucos lances, efetivo contra iniciantes.</p>
                            <div class="moves-list">
                                <h4>Sequência do mate:</h4>
                                <ol>
                                    <li>1. e4 e5</li>
                                    <li>2. Bc4 Nc6</li>
                                    <li>3. Qh5 Nf6??</li>
                                    <li>4. Qxf7# (Mate!)</li>
                                </ol>
                            </div>
                            <p><strong>Atenção:</strong> Facilmente defendido por jogadores experientes.</p>
                        </div>
                    </div>
                    
                    <div id="siciliana" class="tab-panel">
                        <h3>Defesa Siciliana</h3>
                        <div class="strategy-info">
                            <p>A defesa mais popular e combativa contra 1.e4, criando jogo desequilibrado.</p>
                            <div class="moves-list">
                                <h4>Linha principal:</h4>
                                <ol>
                                    <li>1. e4 c5</li>
                                    <li>2. Nf3 d6</li>
                                    <li>3. d4 cxd4</li>
                                    <li>4. Nxd4 Nf6</li>
                                    <li>5. Nc3 a6 (Variante Najdorf)</li>
                                </ol>
                            </div>
                            <p><strong>Filosofia:</strong> Controlar o centro indiretamente e buscar contra-ataques.</p>
                            <p><strong>Variantes populares:</strong> Dragão, Najdorf, Acelerada, Paulsen</p>
                        </div>
                    </div>
                    
                    <div id="italiana" class="tab-panel">
                        <h3>Abertura Italiana</h3>
                        <div class="strategy-info">
                            <p>Uma das aberturas mais antigas e respeitadas, focando no desenvolvimento rápido e controle central.</p>
                            <div class="moves-list">
                                <h4>Linha clássica:</h4>
                                <ol>
                                    <li>1. e4 e5</li>
                                    <li>2. Nf3 Nc6</li>
                                    <li>3. Bc4 Bc5</li>
                                    <li>4. c3 Nf6</li>
                                    <li>5. d4 exd4</li>
                                    <li>6. cxd4 Bb4+</li>
                                </ol>
                            </div>
                            <p><strong>Objetivo:</strong> Desenvolvimento harmônico das peças com pressão no centro.</p>
                            <p><strong>Característica:</strong> Jogo posicional sólido com oportunidades táticas.</p>
                            <p><strong>História:</strong> Surgiu no século XVI, usada por grandes mestres como Greco e Polerio.</p>
                        </div>
                    </div>
                    
                    <div id="ruy-lopez" class="tab-panel">
                        <h3>Ruy Lopez (Abertura Espanhola)</h3>
                        <div class="strategy-info">
                            <p>Considerada uma das aberturas mais profundas e respeitadas, usada em todos os níveis.</p>
                            <div class="moves-list">
                                <h4>Linha principal:</h4>
                                <ol>
                                    <li>1. e4 e5</li>
                                    <li>2. Nf3 Nc6</li>
                                    <li>3. Bb5 a6</li>
                                    <li>4. Ba4 Nf6</li>
                                    <li>5. O-O Be7</li>
                                    <li>6. Re1 b5</li>
                                    <li>7. Bb3 d6</li>
                                </ol>
                            </div>
                            <p><strong>Estratégia:</strong> Pressão duradoura no centro e no lado do rei.</p>
                            <p><strong>Sistemas:</strong> Ataque Marshall, Defesa Berlinense, Variante Breyer</p>
                            <p><strong>História:</strong> Nomeada após o padre espanhol Ruy López (1561), estudada por Capablanca e Fischer.</p>
                        </div>
                    </div>
                    
                    <div id="inglesa" class="tab-panel">
                        <h3>Abertura Inglesa</h3>
                        <div class="strategy-info">
                            <p>Abertura flexível que pode transpor para várias estruturas, favorita dos grandes mestres.</p>
                            <div class="moves-list">
                                <h4>Sistemas principais:</h4>
                                <ol>
                                    <li>1. c4 e5</li>
                                    <li>2. Nc3 Nf6</li>
                                    <li>3. g3 d5</li>
                                    <li>4. cxd5 Nxd5</li>
                                    <li>5. Bg2 Be6</li>
                                </ol>
                            </div>
                            <p><strong>Conceito:</strong> Controle do centro pelos flancos, desenvolvimento fianchetto.</p>
                            <p><strong>Vantagens:</strong> Flexibilidade posicional e menor teoria para decorar.</p>
                            <p><strong>História:</strong> Popularizada por Howard Staunton no século XIX, favorita de Botvinnik e Kasparov.</p>
                        </div>
                    </div>
                    
                    <div id="caro-kann" class="tab-panel">
                        <h3>Defesa Caro-Kann</h3>
                        <div class="strategy-info">
                            <p>Defesa sólida e confiável, conhecida por sua estrutura segura e jogo duradouro.</p>
                            <div class="moves-list">
                                <h4>Linha principal:</h4>
                                <ol>
                                    <li>1. e4 c6</li>
                                    <li>2. d4 d5</li>
                                    <li>3. Nc3 dxe4</li>
                                    <li>4. Nxe4 Bf5</li>
                                    <li>5. Ng3 Bg6</li>
                                    <li>6. h4 h6</li>
                                </ol>
                            </div>
                            <p><strong>Filosofia:</strong> Estrutura sólida com desenvolvimento natural do bispo problemático.</p>
                            <p><strong>Ideal para:</strong> Jogadores posicionais que preferem estruturas seguras.</p>
                            <p><strong>História:</strong> Criada por Horatio Caro e Marcus Kann em 1886, preferida por Petrosian e Karpov.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Parte 4: In the Shadows em Ação -->
        <div class="concept-block">
            <h2><i class="fas fa-eye-slash"></i> "In the Shadows" em Ação</h2>
            
            <div class="shadows-examples">
                <div class="shadow-scenario interactive-shadow" data-scenario="Torre Passiva">
                    <h3>Cenário 1: Torre Passiva</h3>
                    <p>Inicie um Gambito da Rainha, mas mantenha uma torre aparentemente passiva na primeira fileira. 
                    Quando o oponente se concentrar no centro, a torre desliza pela fileira para um ataque lateral devastador.</p>
                    <div class="scenario-actions">
                        <button class="btn btn-sm btn-success practice-scenario-btn" onclick="practiceScenario('Torre Passiva', 'Gambito da Rainha com torre aparentemente passiva que executa ataque lateral surpresa')">
                            <i class="fas fa-play"></i> Praticar Cenário
                        </button>
                        <button class="btn btn-sm btn-info analyze-scenario-btn" onclick="analyzeScenario('Torre Passiva', 'Como identificar e executar momentos ideais para ativar torre passiva')">
                            <i class="fas fa-search"></i> Análise Tática
                        </button>
                    </div>
                    <div class="scenario-feedback" style="display: none;">
                        <div class="feedback-content"></div>
                    </div>
                </div>
                
                <div class="shadow-scenario interactive-shadow" data-scenario="Bispo Recuado">
                    <h3>Cenário 2: Bispo Recuado</h3>
                    <p>Durante uma Defesa Siciliana, posicione um bispo em aparente retirada. 
                    O oponente ignora sua influência diagonal até que ele execute um sacrifício decisivo.</p>
                    <div class="scenario-actions">
                        <button class="btn btn-sm btn-success practice-scenario-btn" onclick="practiceScenario('Bispo Recuado', 'Defesa Siciliana com bispo em retirada preparando sacrificio diagonal decisivo')">
                            <i class="fas fa-play"></i> Praticar Cenário
                        </button>
                        <button class="btn btn-sm btn-info analyze-scenario-btn" onclick="analyzeScenario('Bispo Recuado', 'Quando posicionar bispo defensivamente para posterior sacrificio')">
                            <i class="fas fa-search"></i> Análise Tática
                        </button>
                    </div>
                    <div class="scenario-feedback" style="display: none;">
                        <div class="feedback-content"></div>
                    </div>
                </div>
                
                <div class="shadow-scenario interactive-shadow" data-scenario="Peão Subestimado">
                    <h3>Cenário 3: Peão Subestimado</h3>
                    <p>Em meio a um ataque complexo, um peão avançado é negligenciado. 
                    No momento certo, ele promove para dama, mudando completamente o equilíbrio da partida.</p>
                    <div class="scenario-actions">
                        <button class="btn btn-sm btn-success practice-scenario-btn" onclick="practiceScenario('Peão Subestimado', 'Ataque complexo onde peão passado negligenciado promove decisivamente')">
                            <i class="fas fa-play"></i> Praticar Cenário
                        </button>
                        <button class="btn btn-sm btn-info analyze-scenario-btn" onclick="analyzeScenario('Peão Subestimado', 'Como criar e esconder peões passados durante ataques')">
                            <i class="fas fa-search"></i> Análise Tática
                        </button>
                    </div>
                    <div class="scenario-feedback" style="display: none;">
                        <div class="feedback-content"></div>
                    </div>
                </div>
                
                <div class="shadow-scenario interactive-shadow" data-scenario="Cavalo Periférico">
                    <h3>Cenário 4: Cavalo Periférico</h3>
                    <p>Posicione um cavalo em uma casa aparentemente ineficaz na borda do tabuleiro. 
                    Durante uma sequência de trocas no centro, o cavalo salta para uma casa central 
                    criando um garfo devastador entre rei e dama.</p>
                    <div class="scenario-actions">
                        <button class="btn btn-sm btn-success practice-scenario-btn" onclick="practiceScenario('Cavalo Periférico', 'Cavalo em casa marginal que executa garfo decisivo após trocas no centro')">
                            <i class="fas fa-play"></i> Praticar Cenário
                        </button>
                        <button class="btn btn-sm btn-info analyze-scenario-btn" onclick="analyzeScenario('Cavalo Periférico', 'Quando posicionar cavalos em casas marginais para saltos decisivos')">
                            <i class="fas fa-search"></i> Análise Tática
                        </button>
                    </div>
                    <div class="scenario-feedback" style="display: none;">
                        <div class="feedback-content"></div>
                    </div>
                </div>
                
                <div class="shadow-scenario interactive-shadow" data-scenario="Dama Conservadora">
                    <h3>Cenário 5: Dama Conservadora</h3>
                    <p>Mantenha a dama em posição defensiva enquanto executa ataques com peças menores. 
                    O oponente relaxa a vigilância até que a dama irrompe em um ataque fulminante 
                    através da casa que o adversário deixou desprotegida.</p>
                    <div class="scenario-actions">
                        <button class="btn btn-sm btn-success practice-scenario-btn" onclick="practiceScenario('Dama Conservadora', 'Dama defensiva que explode em ataque surpresa após distracão com peças menores')">
                            <i class="fas fa-play"></i> Praticar Cenário
                        </button>
                        <button class="btn btn-sm btn-info analyze-scenario-btn" onclick="analyzeScenario('Dama Conservadora', 'Como manter dama defensiva enquanto prepara ataque fulminante')">
                            <i class="fas fa-search"></i> Análise Tática
                        </button>
                    </div>
                    <div class="scenario-feedback" style="display: none;">
                        <div class="feedback-content"></div>
                    </div>
                </div>
                
                <div class="shadow-scenario interactive-shadow" data-scenario="Roque Tardio">
                    <h3>Cenário 6: Roque Tardio</h3>
                    <p>Deliberadamente adie o roque criando tensão. O oponente concentra-se no centro 
                    esperando explorar o rei desprotegido, mas o roque tardio coloca o rei em segurança 
                    e a torre imediatamente ativa em uma coluna decisiva.</p>
                    <div class="scenario-actions">
                        <button class="btn btn-sm btn-success practice-scenario-btn" onclick="practiceScenario('Roque Tardio', 'Adiamento intencional do roque para ativar torre em coluna decisiva')">
                            <i class="fas fa-play"></i> Praticar Cenário
                        </button>
                        <button class="btn btn-sm btn-info analyze-scenario-btn" onclick="analyzeScenario('Roque Tardio', 'Quando adiar roque de forma segura para vantagem posicional')">
                            <i class="fas fa-search"></i> Análise Tática
                        </button>
                    </div>
                    <div class="scenario-feedback" style="display: none;">
                        <div class="feedback-content"></div>
                    </div>
                </div>
                
                <div class="shadow-scenario interactive-shadow" data-scenario="Bispo Entrincheirado">
                    <h3>Cenário 7: Bispo Entrincheirado</h3>
                    <p>Em uma abertura fechada, posicione um bispo atrás de uma cadeia de peões. 
                    Quando uma troca de peões abre uma diagonal, o bispo 'adormecido' desperta 
                    com uma descoberta que decide a partida.</p>
                    <div class="scenario-actions">
                        <button class="btn btn-sm btn-success practice-scenario-btn" onclick="practiceScenario('Bispo Entrincheirado', 'Bispo posicionado defensivamente que desperta com descoberta decisiva')">
                            <i class="fas fa-play"></i> Praticar Cenário
                        </button>
                        <button class="btn btn-sm btn-info analyze-scenario-btn" onclick="analyzeScenario('Bispo Entrincheirado', 'Como posicionar bispo para posterior ativação devastadora')">
                            <i class="fas fa-search"></i> Análise Tática
                        </button>
                    </div>
                    <div class="scenario-feedback" style="display: none;">
                        <div class="feedback-content"></div>
                    </div>
                </div>
                
                <div class="shadow-scenario interactive-shadow" data-scenario="Torres Geminadas Ocultas">
                    <h3>Cenário 8: Torres Geminadas Ocultas</h3>
                    <p>Configure torres geminadas em uma coluna aparentemente bloqueada. 
                    Um sacrifício tático abre a coluna e as torres coordenadas entregam 
                    um ataque irresistível à oitava fileira inimiga.</p>
                    <div class="scenario-actions">
                        <button class="btn btn-sm btn-success practice-scenario-btn" onclick="practiceScenario('Torres Geminadas Ocultas', 'Torres dobradas em coluna bloqueada que ativam após sacrifício de abertura')">
                            <i class="fas fa-play"></i> Praticar Cenário
                        </button>
                        <button class="btn btn-sm btn-info analyze-scenario-btn" onclick="analyzeScenario('Torres Geminadas Ocultas', 'Como preparar torres dobradas para ataque coordenado')">
                            <i class="fas fa-search"></i> Análise Tática
                        </button>
                    </div>
                    <div class="scenario-feedback" style="display: none;">
                        <div class="feedback-content"></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Parte 5: Fundamentos de Finais -->
        <div class="concept-block">
            <h2><i class="fas fa-chess-king"></i> Fundamentos de Finais</h2>
            
            <div class="endgames-section">
                <div class="endgame-category">
                    <h3><i class="fas fa-crown"></i> Finais de Rei e Peão</h3>
                    <ul class="endgame-list">
                        <li><strong>Regra do Quadrado:</strong> Determine se o rei pode alcançar o peão passado</li>
                        <li><strong>Oposição:</strong> Controle de casas-chave em finais de reis</li>
                        <li><strong>Peões Passados:</strong> Criação e promoção de peões livres</li>
                        <li><strong>Zugzwang:</strong> Situações onde qualquer movimento piora a posição</li>
                    </ul>
                </div>
                
                <div class="endgame-category">
                    <h3><i class="fas fa-chess-rook"></i> Finais de Torres</h3>
                    <ul class="endgame-list">
                        <li><strong>Torre Ativa:</strong> Máxima atividade da torre em finais</li>
                        <li><strong>Corte do Rei:</strong> Impedir o avanço do rei adversário</li>
                        <li><strong>Posição de Lucena:</strong> Técnica de vitória clássica</li>
                        <li><strong>Posição de Philidor:</strong> Técnica de empate defensivo</li>
                    </ul>
                </div>
                
                <div class="endgame-category">
                    <h3><i class="fas fa-chess-bishop"></i> Finais de Peças Menores</h3>
                    <ul class="endgame-list">
                        <li><strong>Bispo vs Cavalo:</strong> Vantagens estruturais de cada peça</li>
                        <li><strong>Finais de Cavalos:</strong> Técnicas específicas para cavalos</li>
                        <li><strong>Bispos de Cores Opostas:</strong> Tendência ao empate</li>
                        <li><strong>Fortalezas:</strong> Posições defensivas inexpugnáveis</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Parte 6: Glossário de Termos -->
        <div class="concept-block">
            <h2><i class="fas fa-book"></i> Glossário de Termos Essenciais</h2>
            
            <div class="glossary-grid">
                <div class="glossary-term interactive-glossary" data-concept="Tempo">
                    <h4>Tempo</h4>
                    <p>Unidade de medida no xadrez equivalente a um movimento. Ganhar tempo significa forçar o oponente a movimentos inúteis.</p>
                    <div class="glossary-actions">
                        <button class="btn btn-sm btn-outline-primary concept-practice-btn" onclick="showPracticalExample('Tempo', 'Cavalo com xeque ganha tempo obrigando rei a se mover enquanto desenvolve ataque')">
                            <i class="fas fa-play"></i> Ver na Prática
                        </button>
                    </div>
                    <div class="practical-example" style="display: none;">
                        <div class="example-content"></div>
                    </div>
                </div>
                
                <div class="glossary-term interactive-glossary" data-concept="Iniciativa">
                    <h4>Iniciativa</h4>
                    <p>Vantagem de quem dita o ritmo da partida, forçando o oponente a responder às suas ameaças.</p>
                    <div class="glossary-actions">
                        <button class="btn btn-sm btn-outline-primary concept-practice-btn" onclick="showPracticalExample('Iniciativa', 'Sacrificio de peça menor pela iniciativa mantendo pressão constante sobre rei inimigo')">
                            <i class="fas fa-play"></i> Ver na Prática
                        </button>
                    </div>
                    <div class="practical-example" style="display: none;">
                        <div class="example-content"></div>
                    </div>
                </div>
                
                <div class="glossary-term interactive-glossary" data-concept="Estrutura de Peões">
                    <h4>Estrutura de Peões</h4>
                    <p>Formação e disposição dos peões no tabuleiro, determinando características estratégicas da posição.</p>
                    <div class="glossary-actions">
                        <button class="btn btn-sm btn-outline-primary concept-practice-btn" onclick="showPracticalExample('Estrutura de Peões', 'Comparação entre estrutura sólida vs estrutura com peões dobrados e isolados')">
                            <i class="fas fa-play"></i> Ver na Prática
                        </button>
                    </div>
                    <div class="practical-example" style="display: none;">
                        <div class="example-content"></div>
                    </div>
                </div>
                
                <div class="glossary-term interactive-glossary" data-concept="Casa Fraca">
                    <h4>Casa Fraca</h4>
                    <p>Casa que não pode mais ser defendida por peões, tornando-se alvo para invasão de peças inimigas.</p>
                    <div class="glossary-actions">
                        <button class="btn btn-sm btn-outline-primary concept-practice-btn" onclick="showPracticalExample('Casa Fraca', 'Cavalo ocupando casa fraca no centro criando posto avançado irremovível')">
                            <i class="fas fa-play"></i> Ver na Prática
                        </button>
                    </div>
                    <div class="practical-example" style="display: none;">
                        <div class="example-content"></div>
                    </div>
                </div>
                
                <div class="glossary-term interactive-glossary" data-concept="Peão Passado">
                    <h4>Peão Passado</h4>
                    <p>Peão que não tem peões inimigos impedindo seu avanço até a promoção.</p>
                    <div class="glossary-actions">
                        <button class="btn btn-sm btn-outline-primary concept-practice-btn" onclick="showPracticalExample('Peão Passado', 'Peão passado protegido avançando com apoio enquanto peças distraem defesa')">
                            <i class="fas fa-play"></i> Ver na Prática
                        </button>
                    </div>
                    <div class="practical-example" style="display: none;">
                        <div class="example-content"></div>
                    </div>
                </div>
                
                <div class="glossary-term interactive-glossary" data-concept="Maioria de Peões">
                    <h4>Maioria de Peões</h4>
                    <p>Superioridade numérica de peões em determinado setor do tabuleiro.</p>
                    <div class="glossary-actions">
                        <button class="btn btn-sm btn-outline-primary concept-practice-btn" onclick="showPracticalExample('Maioria de Peões', 'Maioria 3x2 na ala da dama criando peão passado após trocas')">
                            <i class="fas fa-play"></i> Ver na Prática
                        </button>
                    </div>
                    <div class="practical-example" style="display: none;">
                        <div class="example-content"></div>
                    </div>
                </div>
                
                <div class="glossary-term interactive-glossary" data-concept="Coluna Aberta">
                    <h4>Coluna Aberta</h4>
                    <p>Coluna sem peões, ideal para atividade das torres.</p>
                    <div class="glossary-actions">
                        <button class="btn btn-sm btn-outline-primary concept-practice-btn" onclick="showPracticalExample('Coluna Aberta', 'Torres dobradas em coluna aberta pressionando sétima fileira inimiga')">
                            <i class="fas fa-play"></i> Ver na Prática
                        </button>
                    </div>
                    <div class="practical-example" style="display: none;">
                        <div class="example-content"></div>
                    </div>
                </div>
                
                <div class="glossary-term interactive-glossary" data-concept="Diagonal Longa">
                    <h4>Diagonal Longa</h4>
                    <p>Diagonais a1-h8 e h1-a8, as mais importantes para atividade dos bispos.</p>
                    <div class="glossary-actions">
                        <button class="btn btn-sm btn-outline-primary concept-practice-btn" onclick="showPracticalExample('Diagonal Longa', 'Bispo em fianchetto controlando diagonal longa e pressionando centro')">
                            <i class="fas fa-play"></i> Ver na Prática
                        </button>
                    </div>
                    <div class="practical-example" style="display: none;">
                        <div class="example-content"></div>
                    </div>
                </div>
                
                <div class="glossary-term interactive-glossary" data-concept="Outpost">
                    <h4>Outpost</h4>
                    <p>Casa forte para uma peça (especialmente cavalo) protegida por peão e não atacável por peões inimigos.</p>
                    <div class="glossary-actions">
                        <button class="btn btn-sm btn-outline-primary concept-practice-btn" onclick="showPracticalExample('Outpost', 'Cavalo estabelecido em outpost central dominando casas importantes')">
                            <i class="fas fa-play"></i> Ver na Prática
                        </button>
                    </div>
                    <div class="practical-example" style="display: none;">
                        <div class="example-content"></div>
                    </div>
                </div>
                
                <div class="glossary-term interactive-glossary" data-concept="Fianchetto">
                    <h4>Fianchetto</h4>
                    <p>Desenvolvimento do bispo nas casas g2, b2, g7 ou b7, controlando diagonais longas.</p>
                    <div class="glossary-actions">
                        <button class="btn btn-sm btn-outline-primary concept-practice-btn" onclick="showPracticalExample('Fianchetto', 'Bispo em g2 após g3 e Bg2 controlando diagonal longa a8-h1')">
                            <i class="fas fa-play"></i> Ver na Prática
                        </button>
                    </div>
                    <div class="practical-example" style="display: none;">
                        <div class="example-content"></div>
                    </div>
                </div>
                
                <div class="glossary-term interactive-glossary" data-concept="Zugzwang">
                    <h4>Zugzwang</h4>
                    <p>Situação onde qualquer movimento legal piora a posição do jogador obrigado a mover.</p>
                    <div class="glossary-actions">
                        <button class="btn btn-sm btn-outline-primary concept-practice-btn" onclick="showPracticalExample('Zugzwang', 'Final de rei e peão onde oponente perde por ter que mover primeiro')">
                            <i class="fas fa-play"></i> Ver na Prática
                        </button>
                    </div>
                    <div class="practical-example" style="display: none;">
                        <div class="example-content"></div>
                    </div>
                </div>
                
                <div class="glossary-term interactive-glossary" data-concept="Breakthrough">
                    <h4>Breakthrough</h4>
                    <p>Avanço decisivo de peões que quebra a resistência inimiga e cria peão passado.</p>
                    <div class="glossary-actions">
                        <button class="btn btn-sm btn-outline-primary concept-practice-btn" onclick="showPracticalExample('Breakthrough', 'Sacrifício coordenado de peões abrindo caminho para peão passado decisivo')">
                            <i class="fas fa-play"></i> Ver na Prática
                        </button>
                    </div>
                    <div class="practical-example" style="display: none;">
                        <div class="example-content"></div>
                    </div>
                </div>
            </div>
            
            <!-- Botão para Exercícios -->
            <div class="exercises-button-section">
                <a href="{{ url_for('exercicios_conceitos') }}" class="btn btn-danger btn-lg exercises-btn">
                    <i class="fas fa-dumbbell"></i>
                    Praticar Exercícios Táticos
                    <i class="fas fa-arrow-right"></i>
                </a>
                
                <div class="simple-reflection-section">
                    <a href="{{ url_for('reflexoes') }}" class="btn btn-outline-light simple-reflection-btn">
                        <i class="fas fa-feather-alt"></i>
                        Reflexão Profunda
                    </a>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script src="{{ url_for('static', filename='js/chess.js') }}"></script>
<script>
    // Initialize chess board
    document.addEventListener('DOMContentLoaded', function() {
        initializeChessBoard();
        initializeTabs();
    });
    
    // Função para consultar resposta do adversário nas táticas
    async function askEnemyResponse(tacticType, situation) {
        const button = event.target.closest('button');
        const card = button.closest('.interactive-tactic');
        const responseSection = card.querySelector('.enemy-response-section');
        const responseContent = card.querySelector('.enemy-response-content');
        
        // Mostrar carregamento
        button.disabled = true;
        button.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Analisando...';
        
        try {
            const response = await fetch('/taticas/analise', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({
                    tipo_tatica: tacticType,
                    situacao: situation
                })
            });
            
            const data = await response.json();
            
            if (data.error) {
                throw new Error(data.error);
            }
            
            // Mostrar resposta do adversário
            responseContent.innerHTML = `
                <div class="enemy-analysis">
                    <p>${data.resposta}</p>
                    <div class="analysis-meta">
                        <small><i class="fas fa-shield-alt"></i> Perspectiva Defensiva - ${data.tatica_analisada}</small>
                    </div>
                </div>
            `;
            
            // Mostrar seção de resposta com animação
            responseSection.style.display = 'block';
            responseSection.classList.add('slide-in');
            
            // Restaurar botão
            button.innerHTML = '<i class="fas fa-check"></i> Resposta Recebida!';
            button.classList.add('success');
            
            // Adicionar botão para nova consulta
            setTimeout(() => {
                button.innerHTML = '<i class="fas fa-brain"></i> Consultar Novamente';
                button.disabled = false;
                button.classList.remove('success');
            }, 3000);
            
        } catch (error) {
            console.error('Erro:', error);
            responseContent.innerHTML = `
                <div class="error-message">
                    <i class="fas fa-exclamation-triangle"></i>
                    <p>Erro ao obter resposta do adversário. Tente novamente.</p>
                </div>
            `;
            
            // Restaurar botão
            button.innerHTML = '<i class="fas fa-brain"></i> Como o Adversário Responderia?';
            button.disabled = false;
        }
    }
    
    // Função para mostrar exemplos práticos dos conceitos do glossário
    async function showPracticalExample(concept, scenario) {
        const button = event.target.closest('button');
        const term = button.closest('.interactive-glossary');
        const exampleSection = term.querySelector('.practical-example');
        const exampleContent = term.querySelector('.example-content');
        
        // Mostrar carregamento
        button.disabled = true;
        button.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Gerando Exemplo...';
        
        try {
            const response = await fetch('/conceitos/exemplo', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({
                    conceito: concept,
                    cenario: scenario
                })
            });
            
            const data = await response.json();
            
            if (data.error) {
                throw new Error(data.error);
            }
            
            // Mostrar exemplo prático
            exampleContent.innerHTML = `
                <div class="practical-demonstration">
                    <div class="demo-header">
                        <i class="fas fa-lightbulb"></i>
                        <strong>Exemplo Prático: ${concept}</strong>
                    </div>
                    <div class="demo-scenario">
                        <p><strong>Situação:</strong> ${scenario}</p>
                    </div>
                    <div class="demo-explanation">
                        <p>${data.explicacao}</p>
                    </div>
                    <div class="demo-application">
                        <div class="application-tips">
                            <h5><i class="fas fa-chess"></i> Como Aplicar na Prática:</h5>
                            <ul>
                                ${data.dicas.map(dica => `<li>${dica}</li>`).join('')}
                            </ul>
                        </div>
                    </div>
                    <div class="demo-connect">
                        <small class="text-muted">
                            <i class="fas fa-link"></i> 
                            Este conceito se conecta com: ${data.conceitos_relacionados.join(', ')}
                        </small>
                    </div>
                </div>
            `;
            
            // Mostrar seção com animação
            exampleSection.style.display = 'block';
            exampleSection.classList.add('slide-in');
            
            // Atualizar botão
            button.innerHTML = '<i class="fas fa-check"></i> Exemplo Carregado!';
            button.classList.add('success');
            
            // Permitir recarregar exemplo
            setTimeout(() => {
                button.innerHTML = '<i class="fas fa-refresh"></i> Novo Exemplo';
                button.disabled = false;
                button.classList.remove('success');
            }, 2000);
            
        } catch (error) {
            console.error('Erro:', error);
            exampleContent.innerHTML = `
                <div class="error-message">
                    <i class="fas fa-exclamation-triangle"></i>
                    <p>Erro ao carregar exemplo. Tente novamente.</p>
                </div>
            `;
            
            // Restaurar botão
            button.innerHTML = '<i class="fas fa-play"></i> Ver na Prática';
            button.disabled = false;
        }
    }
    
    // Função para praticar cenários "In the Shadows"
    async function practiceScenario(scenario, description) {
        const button = event.target.closest('button');
        const card = button.closest('.interactive-shadow');
        const feedbackSection = card.querySelector('.scenario-feedback');
        const feedbackContent = card.querySelector('.feedback-content');
        
        // Mostrar carregamento
        button.disabled = true;
        button.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Preparando...';
        
        try {
            const response = await fetch('/shadows/practice', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({
                    scenario: scenario,
                    description: description
                })
            });
            
            const data = await response.json();
            
            if (data.error) {
                throw new Error(data.error);
            }
            
            // Mostrar exercício prático
            feedbackContent.innerHTML = `
                <div class="practice-exercise">
                    <div class="exercise-header">
                        <i class="fas fa-chess-board"></i>
                        <strong>Exercício Prático: ${scenario}</strong>
                    </div>
                    
                    <div class="exercise-section">
                        <h5><i class="fas fa-cogs"></i> Preparação:</h5>
                        <p>${data.preparacao}</p>
                    </div>
                    
                    <div class="exercise-section">
                        <h5><i class="fas fa-play-circle"></i> Execução:</h5>
                        <p>${data.execucao}</p>
                    </div>
                    
                    <div class="exercise-section">
                        <h5><i class="fas fa-eye"></i> Sinais para Reconhecer:</h5>
                        <ul>
                            ${data.sinais.map(sinal => `<li>${sinal}</li>`).join('')}
                        </ul>
                    </div>
                    
                    <div class="exercise-section warning">
                        <h5><i class="fas fa-exclamation-triangle"></i> Armadilhas a Evitar:</h5>
                        <ul>
                            ${data.armadilhas.map(armadilha => `<li>${armadilha}</li>`).join('')}
                        </ul>
                    </div>
                    
                    <div class="exercise-timing">
                        <h5><i class="fas fa-clock"></i> Timing Ideal:</h5>
                        <p class="timing-tip">${data.timing}</p>
                    </div>
                </div>
            `;
            
            // Mostrar feedback
            feedbackSection.style.display = 'block';
            feedbackSection.classList.add('slide-in');
            
            // Atualizar botão
            button.innerHTML = '<i class="fas fa-check"></i> Exercício Carregado!';
            button.classList.add('success');
            
            setTimeout(() => {
                button.innerHTML = '<i class="fas fa-refresh"></i> Novo Exercício';
                button.disabled = false;
                button.classList.remove('success');
            }, 2000);
            
        } catch (error) {
            console.error('Erro:', error);
            feedbackContent.innerHTML = `
                <div class="error-message">
                    <i class="fas fa-exclamation-triangle"></i>
                    <p>Erro ao carregar exercício. Tente novamente.</p>
                </div>
            `;
            
            button.innerHTML = '<i class="fas fa-play"></i> Praticar Cenário';
            button.disabled = false;
        }
    }
    
    // Função para analisar cenários "In the Shadows"
    async function analyzeScenario(scenario, analysisFocus) {
        const button = event.target.closest('button');
        const card = button.closest('.interactive-shadow');
        const feedbackSection = card.querySelector('.scenario-feedback');
        const feedbackContent = card.querySelector('.feedback-content');
        
        // Mostrar carregamento
        button.disabled = true;
        button.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Analisando...';
        
        try {
            const response = await fetch('/shadows/analyze', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({
                    scenario: scenario,
                    analysis_focus: analysisFocus
                })
            });
            
            const data = await response.json();
            
            if (data.error) {
                throw new Error(data.error);
            }
            
            // Mostrar análise técnica
            feedbackContent.innerHTML = `
                <div class="technical-analysis">
                    <div class="analysis-header">
                        <i class="fas fa-microscope"></i>
                        <strong>Análise Técnica: ${scenario}</strong>
                        <span class="difficulty-badge ${data.dificuldade}">${data.dificuldade}</span>
                    </div>
                    
                    <div class="analysis-section">
                        <h5><i class="fas fa-lightbulb"></i> Princípios Estratégicos:</h5>
                        <ul>
                            ${data.principios.map(principio => `<li>${principio}</li>`).join('')}
                        </ul>
                    </div>
                    
                    <div class="analysis-section">
                        <h5><i class="fas fa-chess"></i> Padrões Posicionais:</h5>
                        <p>${data.padroes}</p>
                    </div>
                    
                    <div class="analysis-section error">
                        <h5><i class="fas fa-ban"></i> Erros Comuns:</h5>
                        <ul>
                            ${data.erros_comuns.map(erro => `<li>${erro}</li>`).join('')}
                        </ul>
                    </div>
                    
                    <div class="analysis-applications">
                        <h5><i class="fas fa-chess-board"></i> Aplicações:</h5>
                        <div class="applications-list">
                            ${data.aplicacoes.map(app => `<span class="app-tag">${app}</span>`).join('')}
                        </div>
                    </div>
                </div>
            `;
            
            // Mostrar análise
            feedbackSection.style.display = 'block';
            feedbackSection.classList.add('slide-in');
            
            // Atualizar botão
            button.innerHTML = '<i class="fas fa-check"></i> Análise Completa!';
            button.classList.add('success');
            
            setTimeout(() => {
                button.innerHTML = '<i class="fas fa-refresh"></i> Nova Análise';
                button.disabled = false;
                button.classList.remove('success');
            }, 2000);
            
        } catch (error) {
            console.error('Erro:', error);
            feedbackContent.innerHTML = `
                <div class="error-message">
                    <i class="fas fa-exclamation-triangle"></i>
                    <p>Erro ao carregar análise. Tente novamente.</p>
                </div>
            `;
            
            button.innerHTML = '<i class="fas fa-search"></i> Análise Tática';
            button.disabled = false;
        }
    }
</script>

<style>
/* Estilos para táticas interativas */
.interactive-tactic {
    position: relative;
    transition: all 0.3s ease;
}

.tactic-actions {
    margin-top: 1rem;
    text-align: center;
}

.ask-enemy-btn {
    background: linear-gradient(135deg, #6c757d 0%, #495057 100%);
    border: none;
    color: white;
    padding: 0.5rem 1rem;
    border-radius: 6px;
    font-size: 0.85rem;
    cursor: pointer;
    transition: all 0.3s ease;
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
}

.ask-enemy-btn:hover {
    background: linear-gradient(135deg, #5a6268 0%, #3d4142 100%);
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(108, 117, 125, 0.3);
}

.ask-enemy-btn:disabled {
    opacity: 0.6;
    cursor: not-allowed;
    transform: none;
}

.ask-enemy-btn.success {
    background: linear-gradient(135deg, #28a745 0%, #1e7e34 100%);
}

.enemy-response-section {
    margin-top: 1rem;
    animation: slideIn 0.5s ease;
}

.enemy-thinking {
    background: rgba(40, 44, 52, 0.9);
    border: 1px solid rgba(108, 117, 125, 0.3);
    border-radius: 8px;
    padding: 1rem;
}

.thinking-header {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    color: #6c757d;
    font-weight: bold;
    margin-bottom: 0.75rem;
    font-size: 0.9rem;
}

.enemy-response-content {
    color: #d0d0d0;
    line-height: 1.5;
}

.enemy-analysis p {
    margin: 0 0 0.5rem 0;
    font-style: italic;
}

.analysis-meta {
    text-align: right;
    color: #6c757d;
    border-top: 1px solid rgba(108, 117, 125, 0.2);
    padding-top: 0.5rem;
    margin-top: 0.5rem;
}

.analysis-meta small {
    display: flex;
    align-items: center;
    gap: 0.25rem;
    justify-content: flex-end;
}

.error-message {
    color: #dc3545;
    text-align: center;
    padding: 0.5rem;
}

.error-message i {
    font-size: 1.2rem;
    margin-bottom: 0.25rem;
    display: block;
}

@keyframes slideIn {
    from {
        opacity: 0;
        transform: translateY(-10px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.slide-in {
    animation: slideIn 0.5s ease;
}

/* Melhorar hover das táticas interativas */
.interactive-tactic:hover {
    transform: translateY(-3px);
    border-color: #6c757d;
    box-shadow: 0 8px 20px rgba(108, 117, 125, 0.15);
}

/* Responsividade */
@media (max-width: 768px) {
    .ask-enemy-btn {
        font-size: 0.8rem;
        padding: 0.4rem 0.8rem;
    }
    
    .thinking-header {
        font-size: 0.85rem;
    }
    
    .enemy-thinking {
        padding: 0.75rem;
    }
}

/* Estilos para glossário interativo */
.interactive-glossary {
    transition: all 0.3s ease;
}

.glossary-actions {
    margin-top: 1rem;
    text-align: center;
}

.concept-practice-btn {
    background: linear-gradient(135deg, #007bff 0%, #0056b3 100%);
    border: 1px solid #007bff;
    color: white;
    padding: 0.4rem 0.8rem;
    border-radius: 5px;
    font-size: 0.8rem;
    cursor: pointer;
    transition: all 0.3s ease;
    display: inline-flex;
    align-items: center;
    gap: 0.4rem;
}

.concept-practice-btn:hover {
    background: linear-gradient(135deg, #0056b3 0%, #004085 100%);
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0, 123, 255, 0.3);
}

.concept-practice-btn:disabled {
    opacity: 0.6;
    cursor: not-allowed;
    transform: none;
}

.concept-practice-btn.success {
    background: linear-gradient(135deg, #28a745 0%, #1e7e34 100%);
    border-color: #28a745;
}

.practical-example {
    margin-top: 1rem;
    animation: slideIn 0.5s ease;
}

.practical-demonstration {
    background: rgba(0, 123, 255, 0.1);
    border: 1px solid rgba(0, 123, 255, 0.3);
    border-radius: 8px;
    padding: 1rem;
}

.demo-header {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    color: #007bff;
    font-weight: bold;
    margin-bottom: 0.75rem;
    font-size: 0.95rem;
}

.demo-scenario {
    background: rgba(40, 44, 52, 0.5);
    padding: 0.5rem;
    border-radius: 4px;
    margin-bottom: 0.75rem;
}

.demo-scenario p {
    margin: 0;
    font-weight: 500;
}

.demo-explanation {
    color: #e0e0e0;
    line-height: 1.6;
    margin-bottom: 0.75rem;
}

.demo-explanation p {
    margin: 0;
}

.demo-application {
    margin-bottom: 0.5rem;
}

.application-tips h5 {
    color: #007bff;
    font-size: 0.9rem;
    margin-bottom: 0.5rem;
    display: flex;
    align-items: center;
    gap: 0.25rem;
}

.application-tips ul {
    margin: 0;
    padding-left: 1.2rem;
}

.application-tips li {
    color: #d0d0d0;
    margin-bottom: 0.25rem;
    font-size: 0.85rem;
}

.demo-connect {
    text-align: center;
    padding-top: 0.5rem;
    border-top: 1px solid rgba(0, 123, 255, 0.2);
}

.demo-connect small {
    display: flex;
    align-items: center;
    gap: 0.25rem;
    justify-content: center;
    font-size: 0.75rem;
}

/* Melhorar hover do glossário interativo */
.interactive-glossary:hover {
    transform: translateY(-2px);
    border-color: #007bff;
    box-shadow: 0 6px 18px rgba(0, 123, 255, 0.15);
}

/* Responsividade para glossário */
@media (max-width: 768px) {
    .concept-practice-btn {
        font-size: 0.75rem;
        padding: 0.35rem 0.6rem;
    }
    
    .practical-demonstration {
        padding: 0.75rem;
    }
    
    .demo-header {
        font-size: 0.85rem;
    }
    
    .application-tips h5 {
        font-size: 0.8rem;
    }
}

/* Estilos para cenários "In the Shadows" interativos */
.interactive-shadow {
    transition: all 0.3s ease;
    position: relative;
}

.scenario-actions {
    margin-top: 1rem;
    display: flex;
    gap: 0.5rem;
    justify-content: center;
    flex-wrap: wrap;
}

.practice-scenario-btn {
    background: linear-gradient(135deg, #28a745 0%, #1e7e34 100%);
    border: 1px solid #28a745;
    color: white;
    padding: 0.4rem 0.8rem;
    border-radius: 5px;
    font-size: 0.8rem;
    cursor: pointer;
    transition: all 0.3s ease;
    display: inline-flex;
    align-items: center;
    gap: 0.4rem;
}

.analyze-scenario-btn {
    background: linear-gradient(135deg, #17a2b8 0%, #138496 100%);
    border: 1px solid #17a2b8;
    color: white;
    padding: 0.4rem 0.8rem;
    border-radius: 5px;
    font-size: 0.8rem;
    cursor: pointer;
    transition: all 0.3s ease;
    display: inline-flex;
    align-items: center;
    gap: 0.4rem;
}

.practice-scenario-btn:hover {
    background: linear-gradient(135deg, #1e7e34 0%, #155724 100%);
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(40, 167, 69, 0.3);
}

.analyze-scenario-btn:hover {
    background: linear-gradient(135deg, #138496 0%, #0f6674 100%);
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(23, 162, 184, 0.3);
}

.practice-scenario-btn:disabled, .analyze-scenario-btn:disabled {
    opacity: 0.6;
    cursor: not-allowed;
    transform: none;
}

.practice-scenario-btn.success {
    background: linear-gradient(135deg, #20c997 0%, #17a085 100%);
}

.analyze-scenario-btn.success {
    background: linear-gradient(135deg, #20c997 0%, #17a085 100%);
}

.scenario-feedback {
    margin-top: 1rem;
    animation: slideIn 0.5s ease;
}

/* Estilos para exercícios práticos */
.practice-exercise {
    background: rgba(40, 167, 69, 0.1);
    border: 1px solid rgba(40, 167, 69, 0.3);
    border-radius: 8px;
    padding: 1rem;
}

.exercise-header {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    color: #28a745;
    font-weight: bold;
    margin-bottom: 1rem;
    font-size: 1rem;
}

.exercise-section {
    margin-bottom: 0.75rem;
    padding: 0.5rem;
    border-radius: 4px;
    background: rgba(40, 44, 52, 0.3);
}

.exercise-section.warning {
    background: rgba(220, 53, 69, 0.1);
    border-left: 3px solid #dc3545;
}

.exercise-section h5 {
    color: #28a745;
    font-size: 0.85rem;
    margin-bottom: 0.5rem;
    display: flex;
    align-items: center;
    gap: 0.25rem;
}

.exercise-section.warning h5 {
    color: #dc3545;
}

.exercise-section p, .exercise-section li {
    color: #e0e0e0;
    margin: 0;
    font-size: 0.85rem;
    line-height: 1.4;
}

.exercise-timing {
    background: rgba(23, 162, 184, 0.1);
    border: 1px solid rgba(23, 162, 184, 0.3);
    border-radius: 6px;
    padding: 0.75rem;
    margin-top: 0.75rem;
}

.exercise-timing h5 {
    color: #17a2b8;
    font-size: 0.85rem;
    margin-bottom: 0.5rem;
    display: flex;
    align-items: center;
    gap: 0.25rem;
}

.timing-tip {
    color: #e0e0e0;
    font-style: italic;
    margin: 0;
    font-size: 0.85rem;
}

/* Estilos para análises técnicas */
.technical-analysis {
    background: rgba(23, 162, 184, 0.1);
    border: 1px solid rgba(23, 162, 184, 0.3);
    border-radius: 8px;
    padding: 1rem;
}

.analysis-header {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    color: #17a2b8;
    font-weight: bold;
    margin-bottom: 1rem;
    font-size: 1rem;
    justify-content: space-between;
    flex-wrap: wrap;
}

.difficulty-badge {
    padding: 0.2rem 0.6rem;
    border-radius: 12px;
    font-size: 0.7rem;
    font-weight: bold;
    text-transform: capitalize;
}

.difficulty-badge.iniciante {
    background: #28a745;
    color: white;
}

.difficulty-badge.intermediario {
    background: #ffc107;
    color: black;
}

.difficulty-badge.avancado {
    background: #dc3545;
    color: white;
}

.analysis-section {
    margin-bottom: 0.75rem;
    padding: 0.5rem;
    border-radius: 4px;
    background: rgba(40, 44, 52, 0.3);
}

.analysis-section.error {
    background: rgba(220, 53, 69, 0.1);
    border-left: 3px solid #dc3545;
}

.analysis-section h5 {
    color: #17a2b8;
    font-size: 0.85rem;
    margin-bottom: 0.5rem;
    display: flex;
    align-items: center;
    gap: 0.25rem;
}

.analysis-section.error h5 {
    color: #dc3545;
}

.analysis-applications {
    background: rgba(108, 117, 125, 0.1);
    border: 1px solid rgba(108, 117, 125, 0.3);
    border-radius: 6px;
    padding: 0.75rem;
    margin-top: 0.75rem;
}

.analysis-applications h5 {
    color: #6c757d;
    font-size: 0.85rem;
    margin-bottom: 0.5rem;
}

.applications-list {
    display: flex;
    gap: 0.5rem;
    flex-wrap: wrap;
}

.app-tag {
    background: #6c757d;
    color: white;
    padding: 0.2rem 0.6rem;
    border-radius: 12px;
    font-size: 0.7rem;
    font-weight: bold;
}

/* Hover para cenários interativos */
.interactive-shadow:hover {
    transform: translateY(-3px);
    border-color: #28a745;
    box-shadow: 0 8px 20px rgba(40, 167, 69, 0.15);
}

/* Responsividade para cenários */
@media (max-width: 768px) {
    .scenario-actions {
        flex-direction: column;
        align-items: center;
    }
    
    .practice-scenario-btn, .analyze-scenario-btn {
        font-size: 0.75rem;
        padding: 0.35rem 0.6rem;
        width: 100%;
        max-width: 200px;
    }
    
    .practice-exercise, .technical-analysis {
        padding: 0.75rem;
    }
    
    .exercise-header, .analysis-header {
        font-size: 0.9rem;
    }
    
    .analysis-header {
        flex-direction: column;
        align-items: flex-start;
        gap: 0.25rem;
    }
}
</style>
{% endblock %}
